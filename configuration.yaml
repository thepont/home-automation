
# Configure a default setup of Home Assistant (frontend, api, etc)
default_config:
# Uncomment this if you are using SSL/TLS, running in Docker container, etc.
# http:
#   base_url: example.duckdns.org:8123

# Text to speech
tts:
  - platform: google_translate
ifttt:
  key: 8fMW8JhbcmUTHrQtgYIeE
# lovelace:
#   mode: yaml
# title: My Awesome Home
# views:
#     # View tab title.
#   - title: Example
#     cards:
#         # The markdown card will render markdown text.
#       - type: markdown
#         title: Lovelace
#         content: >
#           Welcome to your **Lovelace UI**.

group: !include groups.yaml
automation: !include automations.yaml
script: !include scripts.yaml
frontend:
  themes: !include themes.yaml
# views: 
#   - type: custom:vertical-stack-in-card
#     title: vacuum-control
#     cards:
#     - type: picture-elements
#       title: Vacuum
#       image: '/local/vacuum1.jpg'
#       elements:
#         - type: icon
#           icon: mdi:bell-ring
#           tap_action: call-service
#           entity: vacuum.xiaomi_vacuum_cleaner
#           service: vacuum.locate
#           style:
#             top: 90%
#             left: 80%
#             color: '#3090C7'
#         - type: icon
#           icon: mdi:crosshairs
#           tap_action: call-service
#           entity: vacuum.xiaomi_vacuum_cleaner
#           service: vacuum.clean_spot
#           style:
#             top: 90%
#             left: 65%
#             color: '#3090C7'
#         - type: icon
#           tap_action: call-service
#           icon: mdi:home
#           entity: vacuum.xiaomi_vacuum_cleaner
#           service: vacuum.return_to_base
#           style:
#             top: 90%
#             left: 50%
#             color: '#3090C7'
#         - type: icon
#           icon: mdi:stop
#           tap_action: call-service
#           entity: vacuum.xiaomi_vacuum_cleaner
#           service: vacuum.stop
#           style:
#             top: 90%
#             left: 35%
#             color: '#3090C7'
#         - type: icon
#           icon: mdi:play
#           tap_action: call-service
#           entity: vacuum.xiaomi_vacuum_cleaner
#           service: vacuum.start
#           style:
#             top: 90%
#             left: 20%
#             color: '#3090C7'
#         - type: state-label
#           entity: sensor.vacuum_operation
#           style:
#             top: 10%
#             left: 1%
#             color: rgb(255, 255, 255)
#             transform: translate(0%,-50%)
#             pointer-events: none
#             font-family: Trebuchet MS
#             font-size: 90%
#             font-weight: bold
#             border-color: rgb(34, 154, 210)
#             background-color: '#3090C7'
#             border-radius: 6px
#         - type: state-label
#           entity: sensor.vacuum_accessories
#           style:
#             top: 10%
#             right: 1%
#             color: rgb(255, 255, 255)
#             transform: translate(0%,-50%)
#             pointer-events: none
#             font-family: Trebuchet MS
#             font-size: 90%
#             font-weight: bold
#             border-color: rgb(34, 154, 210)
#             background-color: '#3090C7'
#             border-radius: 6px
#         - type: state-label
#           tap_action: more-info
#           entity: vacuum.xiaomi_vacuum_cleaner
#           style:
#             top: 14%
#             right: 38%
#             color: rgb(255, 255, 255)
#             transform: translate(0%,-50%)
#             font-family: Trebuchet MS
#             font-size: 150%
#             font-weight: bold
#             border-color: rgb(34, 154, 210)
#             border-radius: 6px
#             background-color: '#cccccc'
#         - type: state-label
#           entity: sensor.vacuum_cleanmainbrush
#           style:
#             top: 35%
#             right: 1%
#             color: '#ffffff'
#             transform: translate(0%,-50%)
#             pointer-events: none
#             font-family: Trebuchet MS
#             font-size: 76%
#             font-weight: bold
#             border-right-style: solid
#             border-color: rgb(34, 154, 210)
#         - type: state-label
#           entity: sensor.vacuum_cleansidebrush
#           style:
#             top: 45%
#             right: 1%
#             color: '#ffffff'
#             transform: translate(0%,-50%)
#             pointer-events: none
#             font-family: Trebuchet MS
#             font-size: 76%
#             font-weight: bold
#             border-right-style: solid
#             border-color: rgb(34, 154, 210)
#         - type: state-label
#           entity: sensor.vacuum_cleanfilter
#           style:
#             top: 55%
#             right: 1%
#             color: '#ffffff'
#             transform: translate(0%,-50%)
#             pointer-events: none
#             font-family: Trebuchet MS
#             font-size: 76%
#             font-weight: bold
#             border-right-style: solid
#             border-color: rgb(34, 154, 210)
#             opacity: 0.8
#         - type: state-label
#           entity: sensor.vacuum_sensordirtyleft
#           style:
#             top: 65%
#             right: 1%
#             color: '#ffffff'
#             transform: translate(0%,-50%)
#             pointer-events: none
#             font-family: Trebuchet MS
#             font-size: 76%
#             font-weight: bold
#             border-right-style: solid
#             border-color: rgb(34, 154, 210)
#         - type: state-label
#           entity: sensor.vacuum_status
#           style:
#             top: 40%
#             left: 1%
#             color: '#ffffff'
#             transform: translate(0%,-50%)
#             pointer-events: none
#             font-family: Trebuchet MS
#             font-size: 80%
#             font-weight: bold
#             border-left-style: solid
#             border-color: '#3090C7'
#         - type: state-label
#           entity: sensor.vacuum_battery
#           style:
#             top: 50%
#             left: 1%
#             color: '#ffffff'
#             transform: translate(0%,-50%)
#             pointer-events: none
#             font-family: Trebuchet MS
#             font-size: 80%
#             font-weight: bold
#             border-left-style: solid
#             border-color: rgb(34, 154, 210)
#         - type: state-label
#           entity: sensor.vacuum_fan_speed
#           style:
#             top: 60%
#             left: 1%
#             color: '#ffffff'
#             transform: translate(0%,-50%)
#             pointer-events: none
#             font-family: Trebuchet MS
#             font-size: 80%
#             font-weight: bold
#             border-left-style: solid
#             border-color: rgb(34, 154, 210)
#         - type: state-label
#           entity: sensor.vacuum_cleaned_area
#           prefix: "Area:"
#           style:
#             top: 79%
#             left: 31%
#             color: '#84a6ba'
#             transform: translate(0%,-50%)
#             pointer-events: none
#             font-family: Trebuchet MS
#             font-size: 80%
#             font-weight: bold
#         - type: state-label
#           entity: sensor.vacuum_cleaning_time
#           prefix: "Time:"
#           style:
#             top: 79%
#             left: 51%
#             color: '#84a6ba'
#             transform: translate(0%,-50%)
#             pointer-events: none
#             font-family: Trebuchet MS
#             font-size: 80%
#             font-weight: bold
#     - type: entities
#       entities:
#       - entity: input_select.vacuum_room
#     - type: glance
#       columns: 2
#       entities:
#       - entity: input_boolean.disable_dustbin_notification
#         name: Disable Notification
#       - entity: input_boolean.disable_daily_vacuum
#         name: Disable Daily Cleanup


mqtt:
  discovery: true
  broker: localhost
  username: mqtt
  password: !secret mqtt_password
# speedtestdotnet:
#   scan_interval:
#     minutes: 300
#   monitored_conditions:
#     - ping
#     - download
#     - upload
vacuum:
  - platform: xiaomi_miio
    host: 192.168.1.11
    token: !secret gro_bok_token
    name: GroBok
netgear_lte:
  - host: 10.0.10.1
    password: !secret modem_password
    notify:
      - name: sms
        recipient: !secret phone_number_paul
asuswrt:
  host: 192.168.1.1
  username: admin
  password: !secret asus_secret
  protocol: telnet
  port: 23
device_tracker:
  - platform: asuswrt
    host: 192.168.1.1
    username: admin
    password: !secret asus_secret
    protocol: telnet
    port: 23
    interval_seconds: 30
    consider_home: 180
    new_device_defaults:
      track_new_devices: true
      hide_if_away: false
media_player:
  - platform: denonavr
    host: 192.168.1.3
    name: marantz_na7004
    # friendlyName: marantz_na7004
    show_all_sources: true
  - platform: spotify
    client_id: !secret spotify_client_id
    client_secret: !secret spotify_client_secret
    aliases:
        abc12795a9819e6627edd2b5f632907d663e8707e474c3def456: 'Lounge'
camera:
  - platform: bom
    name: MelbouneRadar
    location: Melbourne
sensor:
  - platform: asuswrt
    name: asuswrt_sensors
    monitored_conditions:
      - upload
      - download
      - download_speed
      - upload_speed
  - platform: netgear_lte
    name: netgear_lte_sensors
    host: 10.0.10.1
    password: !secret modem_password
    monitored_conditions:
      - connection_text
      - radio_quality
      - sms
      - tx_level
      - usage
      - current_band
  - platform: bom
    name: bom_moorabbin
    station: IDV60801.94870
    monitored_conditions:
      - apparent_t
      - cloud
      - cloud_base_m
      - cloud_oktas
      - cloud_type_id
      - cloud_type
      - delta_t
      - gust_kmh
      - gust_kt
      - air_temp
      - dewpt
      - local_date_time
      - local_date_time_full
      - press
      - press_qnh
      - press_msl
      - press_tend
      - rain_trace
      - rel_hum
      - sea_state
      - swell_dir_worded
      - swell_height
      - swell_period
      - vis_km
      - weather
      - wind_dir
      - wind_spd_kmh
      - wind_spd_kt
  - platform: bom
    station: IDV60901.94872
    name: bom_ferny_creek
    monitored_conditions:
      - gust_kmh
      - gust_kt
      - air_temp
      - rain_trace
      - wind_dir
      - wind_spd_kmh
      - wind_spd_kt
  # - platform: template
  #   sensors:
  #     vacuum_status:
  #       friendly_name: Status
  #       entity_id:
  #         - vacuum.xiaomi_vacuum_cleaner
  #       value_template: 'Status: {{ states.vacuum.xiaomi_vacuum_cleaner.attributes.status }}'
  #       icon_template: >
  #         {% set val =  states.vacuum.xiaomi_vacuum_cleaner.attributes.status  %}
  #         {% if val == 'Charging' %}
  #           mdi:battery-charging
  #         {% elif val == 'Cleaning' %}
  #           mdi:move-resize
  #         {% elif val == 'Returning home' %}
  #           mdi:keyboard-return
  #         {% elif val == 'Idle' %}
  #           mdi:dots-horizontal
  #         {% elif val == 'Paused' %}
  #           mdi:pause-circle
  #         {% else %}
  #           mdi:help-circle
  #         {% endif %}
  #     vacuum_fan_speed:
  #       friendly_name: Fan Speed
  #       entity_id:
  #         - vacuum.xiaomi_vacuum_cleaner
  #       value_template: 'Mode: {{ states.vacuum.xiaomi_vacuum_cleaner.attributes.fan_speed }}'
  #       icon_template: 'mdi:speedometer'
  #     vacuum_battery:
  #       friendly_name: Vacuum Battery
  #       entity_id:
  #         - vacuum.xiaomi_vacuum_cleaner
  #       value_template: 'Battery: {{ states.vacuum.xiaomi_vacuum_cleaner.attributes.battery_level }}'
  #       unit_of_measurement: '%'
  #       icon_template: '{{ states.vacuum.xiaomi_vacuum_cleaner.attributes.battery_icon }}'
  #     vacuum_cleaning_time:
  #       friendly_name: Time of Last Cycle
  #       entity_id:
  #         - vacuum.xiaomi_vacuum_cleaner
  #       value_template: '{{ states.vacuum.xiaomi_vacuum_cleaner.attributes.cleaning_time }}'
  #       icon_template: 'mdi:timer'
  #     vacuum_cleaned_area:
  #       friendly_name: Area of Last Cycle
  #       unit_of_measurement: 'm ²'
  #       entity_id:
  #         - vacuum.xiaomi_vacuum_cleaner
  #       value_template: '{{ states.vacuum.xiaomi_vacuum_cleaner.attributes.cleaned_area }}'
  #       icon_template: 'mdi:ruler'
  #     vacuum_cleanmainbrush:
  #       friendly_name: Replace main brush
  #       unit_of_measurement: 'h'
  #       entity_id:
  #         - vacuum.xiaomi_vacuum_cleaner
  #       value_template: 'Main Brush: {{ states.vacuum.xiaomi_vacuum_cleaner.attributes.main_brush_left }}'
  #       icon_template: 'mdi:screwdriver'
  #     vacuum_cleansidebrush:
  #       friendly_name: Replace side brush
  #       unit_of_measurement: 'h'
  #       entity_id:
  #         - vacuum.xiaomi_vacuum_cleaner
  #       value_template: 'Side brush: {{ states.vacuum.xiaomi_vacuum_cleaner.attributes.side_brush_left }}'
  #       icon_template: 'mdi:screwdriver'
  #     vacuum_cleanfilter:
  #       friendly_name: Replace filter
  #       unit_of_measurement: 'h'
  #       entity_id:
  #         - vacuum.xiaomi_vacuum_cleaner
  #       value_template: 'Filter: {{ states.vacuum.xiaomi_vacuum_cleaner.attributes.filter_left }}'
  #       icon_template: 'mdi:screwdriver'
  #     vacuum_sensordirtyleft:
  #       friendly_name: Replace filter
  #       unit_of_measurement: 'h'
  #       entity_id:
  #         - vacuum.xiaomi_vacuum_cleaner
  #       value_template: 'Sensor: {{ states.vacuum.xiaomi_vacuum_cleaner.attributes.sensor_dirty_left }}'
  #       icon_template: 'mdi:screwdriver'
  #     vacuum_do_not_disturb:
  #       friendly_name: Do Not Disturb
  #       entity_id:
  #         - vacuum.xiaomi_vacuum_cleaner
  #       value_template: '{{ states.vacuum.xiaomi_vacuum_cleaner.attributes.do_not_disturb }}'
  #       icon_template: >
  #         {% set val =  states.vacuum.xiaomi_vacuum_cleaner.attributes.do_not_disturb  %}
  #         {% if val == 'on' %}
  #           mdi:do-not-disturb
  #         {% else %}
  #           mdi:do-not-disturb-off
  #         {% endif %}
      # vacuum_operation:
      #   value_template: 'Operation'
      # vacuum_accessories:
      #   value_template: 'Maintenance
# switch:
#   - platform: command_line
#     switches:
#       spotty_pi:
#         command_restart: 'ssh pont@192.168.1.10 -i {{ !secret ssh_key }} sudo shutdown -r now'
